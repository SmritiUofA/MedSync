//
//  BGNativeModuleExample.m
//  BGNativeModuleExample
//
//  Created by xieyusheng on 2018/5/31.
//  Copyright © 2018年 xieyusheng. All rights reserved.
//
//二： 实现RCTBridgeModule协议

//1. 我们的类需要包含RCT_EXPORT_MODULE()宏。这个宏也可以添加一个参数用来指定在Javascript中访问这个模块的名字。如果不指定，默认会使用这个类的名字。
#import "BGNativeModuleExample.h"
@implementation BGNativeModuleExample
//1.导出的模块
RCT_EXPORT_MODULE();
//2>简单的方法
RCT_EXPORT_METHOD(testPrint:(NSString *)name){
    NSLog(@"Hello FORM REACT NATIVE");
    
}

//3.回调
RCT_EXPORT_METHOD(getNativeClass:(RCTResponseSenderBlock)callback) {
    callback(@[NSStringFromClass([self class])]);
}

//4.Promise回调
RCT_REMAP_METHOD(testRespondMethod,
                 name:(NSString *)name
                 resolver:(RCTPromiseResolveBlock)resolve
                 rejecter:(RCTPromiseRejectBlock)reject) {
    if([self respondsToSelector:NSSelectorFromString(name)]) {
        resolve(@YES);
    }
    else {
        reject(@"-1001", @"not respond this method", nil);
    }
}
//5. 事件监听
@end
